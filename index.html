<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <!-- Link Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <!-- Link Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=ABeeZee:ital@0;1&family=Exo+2:ital,wght@0,100..900;1,100..900&family=Lexend+Tera:wght@100..900&family=Lobster&family=Rajdhani:wght@300;400;500;600;700&family=Rakkas&display=swap"
      rel="stylesheet"
    />
    <title>Bootstrap Calculator</title>
  </head>

  <body>
    <div class="row mx-5 my-5 justify-content-center">
      <div class="col-4">
        <form action="/procesar_formulario" method="post">
          <div class="mb-3">
            <legend class="mb-5">Calculate your Tipp</legend>
            <label for="exampleAmount" class="form-label">Total Amount</label>
            <input
              type="text"
              class="form-control"
              id="exampleAmount"
              placeholder="540"
              7
            />
          </div>
          <div class="mb-3">
            <label for="exampleInputTipps" class="form-label">% Tipps</label>
            <input
              type="text"
              class="form-control mb-5"
              id="exampleInputTipps"
              placeholder="10"
            />
          </div>
          <hr />
          <h3 class="my-5" id="resultValue">TOTAL TIPP:</h3>
          <div class="mb-3 form-check">
            <input
              type="checkbox"
              class="form-check-input"
              id="exampleCheck1"
            />
            <label class="form-check-label" for="exampleCheck1"
              >I agree to these <a href="#">Terms & Conditions</a></label
            >
          </div>
          <button type="submit" class="btn btn-primary mt-4">Calculate</button>
        </form>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="myModal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">CONGRATULATIONS!!!</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p id="modalMessage">
              Wow!! That's a BIG Tipp! Soon you will save more to treat yourself
              ðŸ˜‰
            </p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-primary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
    <script>
      let form = document.querySelector("form");
      let inputAmount = document.querySelector("input#exampleAmount");
      let inputTipp = document.querySelector("input#exampleInputTipps");
      let resultValue = document.querySelector("h3#resultValue");
      /*let result = (inputAmount.value * inputTipp.value) / 100;
      let messageBodyModal = document.querySelector("modal-body#modalMessage");
      messageBodyModal.innerHTML = `Wow ${result}!! That's a BIG Tipp! Soon you will save more to treat yourself ðŸ˜‰`; --- I wanted to introduce the result of the Tipp inside the modal-body (inside the element <p>), but does not work*/

      /*This function submit() is to make the calculation and show the result on the html element*/
      function submit(event) {
        event.preventDefault();
        let result = (inputAmount.value * inputTipp.value) / 100;
        console.log(result);
        resultValue.innerHTML = `TOTAL TIPP: ${result}â‚¬`;
      }
      /*This function showModal() is to show the modal*/
      function showModal() {
        var myModal = new bootstrap.Modal(document.getElementById("myModal"));
        myModal.show();
      }
      /*This event is to hide the Modal when click on the close button (inside the Modal)*/
      document.addEventListener("DOMContentLoaded", function () {
        var buttonClose = document.querySelector(".btn-close");
        buttonClose.addEventListener("click", function () {
          var my_Modal = document.querySelector("#myModal");

          var anotherModal = new bootstrap.Modal(my_Modal);

          anotherModal.hide();
        });
      });
      /*This event is to make the calculation when click on the submit button*/
      form.addEventListener("submit", submit);
      /*This event is to show the Modal when click on the submit button*/
      form.addEventListener("submit", showModal);
    </script>

    <!-- Link JavaScript Bootstrap -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
